{"version":3,"sources":["assets/img/background_forest.svg","components/layouts/AppContainer.tsx","components/layouts/PageContainer.tsx","common/hexToCssFilter.ts","assets/icons/fa-arrow.svg","assets/icons/fa-bars.svg","assets/icons/fa-crosshairs.svg","assets/icons/fa-custom-droplet.svg","assets/icons/fa-close.svg","assets/icons/fa-angle-right.svg","assets/icons/fa-raindrops.svg","assets/icons/fa-snowflake.svg","assets/icons/fa-strong-wind.svg","assets/icons/fa-triangle-exclamation.svg","assets/icons/fa-wind-direction.svg","components/Icon/Icons.tsx","common/cssProp.ts","components/RainWindInfo/StyledIcons.tsx","components/RainWindInfo/PrecipitationIcon.tsx","components/RainWindInfo/WindDescription.tsx","components/RainWindInfo/WindPrecipitationInfo.tsx","components/LocationSettings/LocationButton.tsx","components/ValueFormatters.tsx","components/WeatherIcon.tsx","common/removeScrollbars.ts","components/layouts/HorizontalList.tsx","components/HourlyForecast/HourlyForecast.tsx","components/common/BottomDownArrow/BottomDownArrow.tsx","components/BasicInfo/BasicInfo.tsx","components/AlertInfo/AlertInfo.tsx","components/AlertInfo/AlertWeatherInfoContainer.tsx","portals/ModalPortal.tsx","assets/mock/mockCities.ts","components/DailyWeather/DailyWeather.tsx","components/DrawerHeader/DrawerHeader.tsx","components/LocationSettings/LastLocations.tsx","hooks/useLastLocations.ts","components/LocationSettings/LocationModal.tsx","pages/TodayWeatherPage.tsx","components/DailyWeather/DetailItem.tsx","components/DailyWeather/DailyWeatherDetails.tsx","pages/NextDaysForecastPage.tsx","portals/ModalRootStyles.ts","common/initI18n.tsx","App.tsx","index.tsx","common/helpers.ts","common/createContextFromHook.tsx","common/constants.ts","hooks/useTargetLocation.ts","assets/weather-conditions.csv","hooks/useWeatherIconsConfig.ts","AppContext.tsx","hooks/useModal.ts","hooks/useOpenWeatherMapOneCall.ts"],"names":["AppContainer","styled","div","backgroundForest","PageContainerWrapper","isModalOpen","css","PageContainer","children","forwardRef","ModalContext","wrappedHook","ref","Color","r","g","b","a","aHex","aFraction","this","clamp","hexToFraction","Math","round","hex","angle","PI","sin","cos","multiply","value","matrix","newR","newG","newB","linear","slope","intercept","max","min","h","s","l","d","Solver","target","targetHSL","reusedColor","hsl","alpha","result","solveNarrow","solveWide","values","loss","filter","best","Infinity","i","spsa","wide","A","A1","c","iters","bestLoss","deltas","Array","highArgs","lowArgs","k","ck","pow","random","lossDiff","ak","fix","slice","idx","filters","color","set","invert","sepia","saturate","hueRotate","brightness","contrast","colorHSL","abs","fmt","multiplier","hexToCssFilter","rgba","replace","m","_a","alphaChannel","undefined","exec","parseInt","Error","hexToRgb","solve","_IconImg","img","cssName","attrName","defaultValue","props","_css","prop","cssProp","_Icon","createIconFromSrc","src","defaultColor","IconScoped","_props","ArrowIcon","arrowIcon","CrosshairsIcon","barsIcon","crosshairsIcon","ArrowRightIcon","dropletIcon","closeIcon","arrowRightIcon","RainIcon","rainIcon","SnowIcon","snowIcon","WindIcon","windIcon","WarningIcon","warningIcon","WindDirectionIcon","windDirectionIcon","WeatherFactorIcon","WindIconStyled","RainIconStyled","SnowIconStyled","PrecipitationIcon","rain","snow","temperature","WindSpeedValues","i18nLabelKey","WindDescriptionWrapper","span","RainWindInfoWrapper","InfoItem","InfoItemText","InfoItemValue","InfoItemValueFraction","InfoItemUnit","WindDescriptionStyled","windSpeed","className","item","React","useMemo","find","defaultWindSpeedValue","arrZero","t","useTranslation","number2HeadTail","num","head","floor","_tail","String","WindPrecipitationInfo","currentWeather","wind","wind_speed","rainAmount","snowAmount","temp","windspeedHead","windspeedTail","rainfallAmountHead","rainfallAmountTail","NavigationFabContainer","LocationContainer","LocationText","CrosshairsIconStyled","LocationButton","openModal","i18nName","TargetLocationContext","onClick","FormattedTemperatureValue","FormattedTemperatureUnit","FormattedTemperatureWrapper","FormattedTemperature","FormattedTimeWrapper","FormattedTime","date","Date","getHours","getMinutes","WeatherIcon","weatherCode","WeatherIconsConfigContext","weatherIconsConfig","fetched","icon","iconsConfig","now","getDayNightIcon","cn","WeatherInfoArrWeatherIcon","weatherInfoArr","weatherInfo","id","removeScrollbars","boxShadowSize","HorizontalList","HorizontalListItem","HourlyForecastWrapper","HourlyForecastHeading","StyledHorizontalList","StyledHorizontalListItem","StyledWeatherInfoArrWeatherIcon","StyledFormattedHour","hour","toString","padStart","StyledFormattedTemperature","HourlyItem","forecast","dt","weather","HourlyForecast","hourForecast","skipFirst","flatMap","BottomArrowWrapper","StyledArrowIcon","BottomDownArrow","nextPageRef","useCallback","current","scrollIntoView","behavior","BasicInfoWrapper","BasicInfoData","BasicInfoIcon","BasicInfoTemperature","BasicInfoDescription","BasicInfo","description","BasicInfoFromCurrentWeatherForecast","weatherZeroDescription","weatherZeroId","AlertContainer","open","AlertHeader","AlertHeaderContent","AlertContent","WarningIconStyled","AlertInfo","header","setAlertOpen","alertOpen","prevState","OuterContentContainer","AlertWeatherInfoContainer","alert","useState","tags","_modalRoot","document","getElementById","console","error","modalRoot","createElement","ModalPortal","modalName","_actualOpenModalName","element","removeElementFromModalRoot","contains","log","removeChild","useLayoutEffect","appendChild","ReactDOM","createPortal","city","name","lat","lon","mockCities","DailyWeatherListItem","ItemDateInfo","ItemWeatherInfo","IconContainer","ArrowRightIconStyled","ArrowRightIconWrapper","DailyWeather","setSelectedDay","moment","format","day","TitleContainer","ArrowRightIconWrapperRestyled","ItemDateInfoStyled","DrawerHeader","title","closeModals","fontSize","LastLocationsContainer","LastLocationsHeader","LastLocationsRow","LastLocationsItemWrapper","LastLocationsItem","location","LastLocations","locations","city1","city2","city3","city4","STORAGE_KEY","LocationWrapper","LocationModalContent","LocationModalInput","input","LocationModalListContainer","LocationModalOption","LocationModalListItem","setLocation","LocationModal","searchField","setSearchField","setTargetLocation","lastLocations","setLastLocations","useEffect","JSON","parse","localStorage","getItem","selectLocation","index","findIndex","splice","length","pop","unshift","insertNewLocation","setItem","stringify","useLastLocations","selectLastLocation","filteredCities","includes","onChange","e","map","TodayWeatherPageWrapper","TodayWeatherPage","DetailItemWrapper","DetailItemLabel","DetailItemValue","DetailItem","label","DailyWeatherDetailsWrapper","WeatherDescription","DetailValue","WindDirectionWrapper","WindDirectionIconStyled","deg","DailyWeatherDetails","wind_deg","pressure","sunrise","sunset","dayTemperature","forecastWeatherZeroDescription","DailyWeatherListContainer","DailyWeatherListItemContainer","NextDaysForecastPage","daily","pageRef","selectedDay","_setSelectedDay","f","list","ModalRootStyles","createGlobalStyle","initI18n","lng","i18n","use","initReactI18next","init","resources","en","translation","enTranslations","fallbackLng","interpolation","escapeValue","locale","App","rawData","nextDaysForecastPageRef","useRef","alerts","hourly","module","hot","accept","render","_","arr","createContextFromHook","hook","initialData","Context","createContext","WrappedProvider","Provider","useContext","MODALS","fetchData","fetch","weatherConditionsCsv","response","text","csv","data","split","row","shift","_setActualOpenModalName","modal","setI18nName","setLat","setLon","params","url","exclude","units","openWeatherEndpoint","join","getUrl","setFetched","setData","then","json","responseData","useOpenWeatherMapOneCall","setWeatherIconsConfig","forEach","weatherId","transformData","AppProvider","reduce","P","p"],"mappings":"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","file":"static/js/main.bae6b7f9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/background_forest.5065e4eb.svg\";","import styled from \"styled-components\";\nimport backgroundForest from \"../../assets/img/background_forest.svg\";\n\nexport const AppContainer = styled.div`\n  scroll-snap-type: y mandatory;\n  overflow: scroll;\n  height: 100vh;\n  background-image: url(${backgroundForest});\n  background-size: cover;\n  background-repeat: no-repeat;\n`;\n","import styled, { css } from \"styled-components\";\nimport { ModalContext } from \"../../AppContext\";\nimport { WithChildren, WithForwardRefDiv } from \"../../common/helpers\";\n\ntype PageContainerWrapperProps = {\n  isModalOpen: boolean;\n};\nconst isModalOpenPageContainerWrapper = ({ isModalOpen }: PageContainerWrapperProps) =>\n  isModalOpen\n    ? css`\n        transform: translateX(-80vw);\n      `\n    : css`\n        transform: translateX(-0vw);\n      `;\nconst PageContainerWrapper = styled.div`\n  height: 100vh;\n  scroll-snap-align: start;\n  scroll-snap-stop: normal;\n  transition: transform 0.2s ease-in-out;\n  ${isModalOpenPageContainerWrapper}\n`;\n\nexport const PageContainer = ({ children, forwardRef }: WithChildren & WithForwardRefDiv) => {\n  const { isModalOpen } = ModalContext.wrappedHook();\n  return (\n    <PageContainerWrapper ref={forwardRef} isModalOpen={isModalOpen}>\n      {children}\n    </PageContainerWrapper>\n  );\n};\n","// Based on:\n// https://gist.github.com/phillipwilhelm/93a99c23882a2422c273b706c6d16b13\n// https://codepen.io/sosuke/pen/Pjoqqp\n\ninterface HSL {\n  h: number;\n  s: number;\n  l: number;\n}\n\nclass Color {\n  public r: number;\n  public g: number;\n  public b: number;\n  public aHex: number;\n  public aFraction: number;\n  constructor(r: number, g: number, b: number, a: number) {\n    this.r = this.clamp(r);\n    this.g = this.clamp(g);\n    this.b = this.clamp(b);\n    this.aHex = this.clamp(a);\n    this.aFraction = this.hexToFraction(this.aHex);\n  }\n\n  toString() {\n    return `rgba(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)}, ${this.aFraction})`;\n  }\n\n  hexToFraction(hex: number) {\n    return hex / 255;\n  }\n\n  set(r: number, g: number, b: number, a: number) {\n    this.r = this.clamp(r);\n    this.g = this.clamp(g);\n    this.b = this.clamp(b);\n    this.aHex = this.clamp(a);\n    this.aFraction = this.hexToFraction(this.aHex);\n  }\n\n  hueRotate(angle = 0) {\n    angle = (angle / 180) * Math.PI;\n    const sin = Math.sin(angle);\n    const cos = Math.cos(angle);\n\n    this.multiply([\n      0.213 + cos * 0.787 - sin * 0.213,\n      0.715 - cos * 0.715 - sin * 0.715,\n      0.072 - cos * 0.072 + sin * 0.928,\n      0.213 - cos * 0.213 + sin * 0.143,\n      0.715 + cos * 0.285 + sin * 0.14,\n      0.072 - cos * 0.072 - sin * 0.283,\n      0.213 - cos * 0.213 - sin * 0.787,\n      0.715 - cos * 0.715 + sin * 0.715,\n      0.072 + cos * 0.928 + sin * 0.072\n    ]);\n  }\n\n  grayscale(value = 1) {\n    this.multiply([\n      0.2126 + 0.7874 * (1 - value),\n      0.7152 - 0.7152 * (1 - value),\n      0.0722 - 0.0722 * (1 - value),\n      0.2126 - 0.2126 * (1 - value),\n      0.7152 + 0.2848 * (1 - value),\n      0.0722 - 0.0722 * (1 - value),\n      0.2126 - 0.2126 * (1 - value),\n      0.7152 - 0.7152 * (1 - value),\n      0.0722 + 0.9278 * (1 - value)\n    ]);\n  }\n\n  sepia(value = 1) {\n    this.multiply([\n      0.393 + 0.607 * (1 - value),\n      0.769 - 0.769 * (1 - value),\n      0.189 - 0.189 * (1 - value),\n      0.349 - 0.349 * (1 - value),\n      0.686 + 0.314 * (1 - value),\n      0.168 - 0.168 * (1 - value),\n      0.272 - 0.272 * (1 - value),\n      0.534 - 0.534 * (1 - value),\n      0.131 + 0.869 * (1 - value)\n    ]);\n  }\n\n  saturate(value = 1) {\n    this.multiply([\n      0.213 + 0.787 * value,\n      0.715 - 0.715 * value,\n      0.072 - 0.072 * value,\n      0.213 - 0.213 * value,\n      0.715 + 0.285 * value,\n      0.072 - 0.072 * value,\n      0.213 - 0.213 * value,\n      0.715 - 0.715 * value,\n      0.072 + 0.928 * value\n    ]);\n  }\n\n  multiply(matrix: any) {\n    const newR = this.clamp(this.r * matrix[0] + this.g * matrix[1] + this.b * matrix[2]);\n    const newG = this.clamp(this.r * matrix[3] + this.g * matrix[4] + this.b * matrix[5]);\n    const newB = this.clamp(this.r * matrix[6] + this.g * matrix[7] + this.b * matrix[8]);\n    this.r = newR;\n    this.g = newG;\n    this.b = newB;\n  }\n\n  brightness(value = 1) {\n    this.linear(value);\n  }\n  contrast(value = 1) {\n    this.linear(value, -(0.5 * value) + 0.5);\n  }\n\n  linear(slope = 1, intercept = 0) {\n    this.r = this.clamp(this.r * slope + intercept * 255);\n    this.g = this.clamp(this.g * slope + intercept * 255);\n    this.b = this.clamp(this.b * slope + intercept * 255);\n  }\n\n  invert(value = 1) {\n    this.r = this.clamp((value + (this.r / 255) * (1 - 2 * value)) * 255);\n    this.g = this.clamp((value + (this.g / 255) * (1 - 2 * value)) * 255);\n    this.b = this.clamp((value + (this.b / 255) * (1 - 2 * value)) * 255);\n  }\n\n  hsl(): HSL {\n    // Code taken from https://stackoverflow.com/a/9493060/2688027, licensed under CC BY-SA.\n    const r = this.r / 255;\n    const g = this.g / 255;\n    const b = this.b / 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n\n    let h = 0;\n    let s = 0;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      const d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      switch (max) {\n        case r:\n          h = (g - b) / d + (g < b ? 6 : 0);\n          break;\n\n        case g:\n          h = (b - r) / d + 2;\n          break;\n\n        case b:\n          h = (r - g) / d + 4;\n          break;\n      }\n      h /= 6;\n    }\n\n    return {\n      h: h * 100,\n      s: s * 100,\n      l: l * 100\n    };\n  }\n\n  clamp(value: number): number {\n    if (value > 255) {\n      value = 255;\n    } else if (value < 0) {\n      value = 0;\n    }\n    return value;\n  }\n}\ninterface Solution {\n  loss: number;\n  values: number[];\n}\nclass Solver {\n  private target: Color;\n  private targetHSL: HSL;\n  private reusedColor: Color;\n  constructor(target: Color) {\n    this.target = target;\n    this.targetHSL = target.hsl();\n    this.reusedColor = new Color(0, 0, 0, 0);\n  }\n\n  solve(alpha: number) {\n    const result = this.solveNarrow(this.solveWide());\n    return {\n      values: result.values,\n      loss: result.loss,\n      filter: this.css(result.values, alpha)\n    };\n  }\n\n  solveWide(): Solution {\n    const A = 5;\n    const c = 15;\n    const a = [60, 180, 18000, 600, 1.2, 1.2];\n\n    let best = { loss: Infinity, values: [] as number[] };\n    for (let i = 0; best.loss > 25 && i < 3; i++) {\n      const initial = [50, 20, 3750, 50, 100, 100];\n      const result = this.spsa(A, a, c, initial, 1000);\n      if (result.loss < best.loss) {\n        best = result;\n      }\n    }\n    return best;\n  }\n\n  solveNarrow(wide: Solution) {\n    const A = wide.loss;\n    const c = 2;\n    const A1 = A + 1;\n    const a = [0.25 * A1, 0.25 * A1, A1, 0.25 * A1, 0.2 * A1, 0.2 * A1];\n    return this.spsa(A, a, c, wide.values, 500);\n  }\n\n  spsa(A: number, a: number[], c: number, values: number[], iters: number): Solution {\n    const alpha = 1;\n    const gamma = 0.16666666666666666;\n\n    let best = [] as number[];\n    let bestLoss = Infinity;\n    const deltas = new Array(6);\n    const highArgs = new Array(6);\n    const lowArgs = new Array(6);\n\n    for (let k = 0; k < iters; k++) {\n      const ck = c / Math.pow(k + 1, gamma);\n      for (let i = 0; i < 6; i++) {\n        deltas[i] = Math.random() > 0.5 ? 1 : -1;\n        highArgs[i] = values[i] + ck * deltas[i];\n        lowArgs[i] = values[i] - ck * deltas[i];\n      }\n\n      const lossDiff = this.loss(highArgs) - this.loss(lowArgs);\n      for (let i = 0; i < 6; i++) {\n        const g = (lossDiff / (2 * ck)) * deltas[i];\n        const ak = a[i] / Math.pow(A + k + 1, alpha);\n        values[i] = fix(values[i] - ak * g, i);\n      }\n\n      const loss = this.loss(values);\n      if (loss < bestLoss) {\n        best = values.slice(0);\n        bestLoss = loss;\n      }\n    }\n    return { values: best, loss: bestLoss };\n\n    function fix(value: number, idx: number): number {\n      let max = 100;\n      if (idx === 2 /* saturate */) {\n        max = 7500;\n      } else if (idx === 4 /* brightness */ || idx === 5 /* contrast */) {\n        max = 200;\n      }\n\n      if (idx === 3 /* hue-rotate */) {\n        if (value > max) {\n          value %= max;\n        } else if (value < 0) {\n          value = max + (value % max);\n        }\n      } else if (value < 0) {\n        value = 0;\n      } else if (value > max) {\n        value = max;\n      }\n      return value;\n    }\n  }\n\n  loss(filters: number[]) {\n    // Argument is array of percentages.\n    const color = this.reusedColor;\n    color.set(0, 0, 0, 0);\n\n    color.invert(filters[0] / 100);\n    color.sepia(filters[1] / 100);\n    color.saturate(filters[2] / 100);\n    color.hueRotate(filters[3] * 3.6);\n    color.brightness(filters[4] / 100);\n    color.contrast(filters[5] / 100);\n\n    const colorHSL = color.hsl();\n    return (\n      Math.abs(color.r - this.target.r) +\n      Math.abs(color.g - this.target.g) +\n      Math.abs(color.b - this.target.b) +\n      Math.abs(colorHSL.h - this.targetHSL.h) +\n      Math.abs(colorHSL.s - this.targetHSL.s) +\n      Math.abs(colorHSL.l - this.targetHSL.l)\n    );\n  }\n\n  css(filters: number[], alpha: number) {\n    function fmt(idx: number, multiplier = 1) {\n      return Math.round(filters[idx] * multiplier);\n    }\n    return `invert(${fmt(0)}%) sepia(${fmt(1)}%) saturate(${fmt(2)}%) hue-rotate(${fmt(3, 3.6)}deg) brightness(${fmt(\n      4\n    )}%) contrast(${fmt(5)}%) opacity(${alpha})`;\n  }\n}\n\ntype RGBA = [number, number, number, number];\nfunction hexToRgb(hex: string): RGBA {\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i;\n  hex = hex.replace(shorthandRegex, (m, r, g, b, _a) => {\n    let alphaChannel = _a;\n    if (alphaChannel === undefined) alphaChannel = \"FF\";\n    return r + r + g + g + b + b + alphaChannel;\n  });\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  if (result) {\n    return [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16), parseInt(result[4], 16)];\n  }\n\n  throw new Error(\"Error parsing hex: \" + hex);\n}\n\nexport function hexToCssFilter(hex: string) {\n  const rgba = hexToRgb(hex);\n  const color = new Color(...rgba);\n  const solver = new Solver(color);\n  const result = solver.solve(color.aFraction);\n  return result.filter;\n}\n","export default __webpack_public_path__ + \"static/media/fa-arrow.08e9c172.svg\";","export default __webpack_public_path__ + \"static/media/fa-bars.9c2f316b.svg\";","export default __webpack_public_path__ + \"static/media/fa-crosshairs.758c6f29.svg\";","export default __webpack_public_path__ + \"static/media/fa-custom-droplet.61034c97.svg\";","export default __webpack_public_path__ + \"static/media/fa-close.b183d8b8.svg\";","export default __webpack_public_path__ + \"static/media/fa-angle-right.b0b26199.svg\";","export default __webpack_public_path__ + \"static/media/fa-raindrops.03c5f412.svg\";","export default __webpack_public_path__ + \"static/media/fa-snowflake.a059a105.svg\";","export default __webpack_public_path__ + \"static/media/fa-strong-wind.988abb35.svg\";","export default __webpack_public_path__ + \"static/media/fa-triangle-exclamation.7f11f731.svg\";","export default __webpack_public_path__ + \"static/media/fa-wind-direction.64c8b4a7.svg\";","import styled from \"styled-components\";\nimport { cssProp } from \"../../common/cssProp\";\nimport { hexToCssFilter } from \"../../common/hexToCssFilter\";\n\ntype _IconImgProps = {\n  filter: string;\n};\nconst _IconImg = styled.img<_IconImgProps>`\n  ${cssProp(\"filter\", \"filter\", \"\")}\n`;\nconst _Icon = (props) => {\n  return <_IconImg {...props} />;\n};\n\nconst createIconFromSrc = (src: string, defaultColor = \"#000\") => {\n  const filter = hexToCssFilter(defaultColor);\n\n  const IconScoped = (_props) =>\n    _Icon({\n      filter,\n      ..._props,\n      src\n    });\n\n  return IconScoped;\n};\n\nimport arrowIcon from \"../../assets/icons/fa-arrow.svg\";\nexport const ArrowIcon = createIconFromSrc(arrowIcon, \"#FFF\");\n\nimport barsIcon from \"../../assets/icons/fa-bars.svg\";\nexport const BarsIcon = createIconFromSrc(barsIcon);\n\nimport crosshairsIcon from \"../../assets/icons/fa-crosshairs.svg\";\nexport const CrosshairsIcon = createIconFromSrc(crosshairsIcon);\n\nimport dropletIcon from \"../../assets/icons/fa-custom-droplet.svg\";\nexport const DropletIcon = createIconFromSrc(dropletIcon);\n\nimport closeIcon from \"../../assets/icons/fa-close.svg\";\nexport const CloseIcon = createIconFromSrc(closeIcon);\n\nimport arrowRightIcon from \"../../assets/icons/fa-angle-right.svg\";\nexport const ArrowRightIcon = createIconFromSrc(arrowRightIcon);\n\nimport rainIcon from \"../../assets/icons/fa-raindrops.svg\";\nexport const RainIcon = createIconFromSrc(rainIcon, \"#00A3FF80\");\n\nimport snowIcon from \"../../assets/icons/fa-snowflake.svg\";\nexport const SnowIcon = createIconFromSrc(snowIcon, \"#00A3FF80\");\n\nimport windIcon from \"../../assets/icons/fa-strong-wind.svg\";\nexport const WindIcon = createIconFromSrc(windIcon, \"#00A3FF80\");\n\nimport warningIcon from \"../../assets/icons/fa-triangle-exclamation.svg\";\nexport const WarningIcon = createIconFromSrc(warningIcon);\n\nimport windDirectionIcon from \"../../assets/icons/fa-wind-direction.svg\";\nexport const WindDirectionIcon = createIconFromSrc(windDirectionIcon);\n","import type { Properties } from \"csstype\";\n\nimport { css } from \"styled-components\";\nimport { prop } from \"./helpers\";\n\nexport const cssProp =\n  <T, K extends keyof T>(cssName: keyof Properties, attrName: K, defaultValue = \"\") =>\n  (props: T) => {\n    // not sure why more direct form of that is bugging intellisense\n    const _css = `${cssName}: ${prop<T, K>(attrName, defaultValue)(props)};`;\n    return css`\n      ${_css}\n    `;\n  };\n","import styled, { css } from \"styled-components\";\nimport { RainIcon, SnowIcon, WindIcon } from \"../Icon/Icons\";\n\nconst WeatherFactorIcon = css`\n  height: 5em;\n  width: 5em;\n  color: rgba(0, 163, 255, 0.5);\n  fill: currentColor;\n`;\n\nexport const WindIconStyled = styled(WindIcon)`\n  ${WeatherFactorIcon}\n`;\n\nexport const RainIconStyled = styled(RainIcon)`\n  ${WeatherFactorIcon}\n`;\n\nexport const SnowIconStyled = styled(SnowIcon)`\n  ${WeatherFactorIcon}\n`;\n","import { RainIconStyled, SnowIconStyled } from \"./StyledIcons\";\n\ntype PrecipitationIconProps = {\n  rain: number;\n  snow: number;\n  temperature: number;\n};\n\nexport const PrecipitationIcon = ({ rain, snow, temperature }: PrecipitationIconProps): JSX.Element => {\n  if (snow > 0) {\n    return <SnowIconStyled />;\n  }\n  if (rain > 0) {\n    return <RainIconStyled />;\n  }\n  return temperature > 0 ? <RainIconStyled /> : <SnowIconStyled />;\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { arrZero, StyledClassName } from \"../../common/helpers\";\nimport { useTranslation } from \"react-i18next\";\n\nexport type WindDescriptionProps = StyledClassName & {\n  windSpeed: number;\n};\n\nexport type WindSpeedDescription = {\n  min: number;\n  max: number;\n  i18nLabelKey: string;\n};\n\nconst WindSpeedValues: WindSpeedDescription[] = [\n  { min: 0, max: 0.499, i18nLabelKey: \"windDescr_1\" },\n  { min: 0.5, max: 5.399, i18nLabelKey: \"windDescr_2\" },\n  { min: 5.4, max: 7.999, i18nLabelKey: \"windDescr_3\" },\n  { min: 8, max: 13.799, i18nLabelKey: \"windDescr_4\" },\n  { min: 13.8, max: 16.999, i18nLabelKey: \"windDescr_5\" },\n  { min: 17, max: 20.799, i18nLabelKey: \"windDescr_6\" },\n  { min: 20.8, max: 24.499, i18nLabelKey: \"windDescr_7\" },\n  { min: 24.5, max: 29.999, i18nLabelKey: \"windDescr_8\" },\n  { min: 30, max: 1000, i18nLabelKey: \"windDescr_9\" }\n];\n\nexport const WindDescriptionWrapper = styled.span``;\n\nexport const WindDescription = ({ windSpeed, className }: WindDescriptionProps): JSX.Element => {\n  const item = React.useMemo(\n    () => WindSpeedValues.find(({ min, max }) => windSpeed >= min && windSpeed < max),\n    [windSpeed]\n  );\n  const defaultWindSpeedValue = arrZero(WindSpeedValues);\n  const { i18nLabelKey } = item || defaultWindSpeedValue;\n  const { t } = useTranslation();\n  return <WindDescriptionWrapper className={className}>({t(i18nLabelKey)})</WindDescriptionWrapper>;\n};\n","import styled from \"styled-components\";\nimport { CurrentWeatherForecast } from \"../../models/OpenWeatherAPI\";\nimport { PrecipitationIcon } from \"./PrecipitationIcon\";\nimport { rainAmount, snowAmount } from \"../../common/helpers\";\nimport { WindIconStyled } from \"./StyledIcons\";\nimport { WindDescription } from \"./WindDescription\";\n\nconst RainWindInfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0.75em;\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst InfoItemText = styled.div`\n  height: fit-content;\n  font-weight: 500;\n  margin-left: 0.5em;\n  opacity: 0.8;\n`;\n\nconst InfoItemValue = styled.span`\n  font-size: 2.25em;\n`;\n\nconst InfoItemValueFraction = styled.span`\n  font-size: 1.5em;\n`;\n\nconst InfoItemUnit = styled.span`\n  font-size: 1.5em;\n`;\n\nconst WindDescriptionStyled = styled(WindDescription)`\n  font-size: 1.2em;\n  margin-left: 0.5em;\n  padding-top: 0.4em;\n`;\n\nconst number2HeadTail = (num: number) => {\n  const head = Math.floor(num);\n  const _tail = Math.floor((num - head) * 100); // first 2 chars of fraction\n  const __tail = \"00\" + String(_tail); // add characters to prepare value for leading zero/zeros\n  const ___tail = __tail.slice(-2); // take first characters from the right\n  const tail = ___tail; // set return\n  return [head, tail];\n};\n\nexport type RainPrecipitationInfoProps = {\n  currentWeather: Pick<CurrentWeatherForecast, \"wind_speed\" | \"rain\" | \"snow\" | \"temp\">;\n};\n\nexport const WindPrecipitationInfo = ({ currentWeather }: RainPrecipitationInfoProps): JSX.Element => {\n  const wind = currentWeather.wind_speed;\n  const rain = rainAmount(currentWeather);\n  const snow = snowAmount(currentWeather);\n  const temperature = currentWeather.temp;\n  const [windspeedHead, windspeedTail] = number2HeadTail(wind);\n  const [rainfallAmountHead, rainfallAmountTail] = number2HeadTail(rain + snow);\n  return (\n    <RainWindInfoWrapper>\n      <InfoItem>\n        <WindIconStyled />\n        <InfoItemText>\n          <InfoItemValue>{windspeedHead}</InfoItemValue>\n          {+windspeedTail > 0 && <InfoItemValueFraction>.{windspeedTail}</InfoItemValueFraction>}\n          <InfoItemUnit>m/s</InfoItemUnit>\n        </InfoItemText>\n        <WindDescriptionStyled windSpeed={wind} />\n      </InfoItem>\n      <InfoItem>\n        <PrecipitationIcon temperature={temperature} rain={rain} snow={snow} />\n        <InfoItemText>\n          <InfoItemValue>{rainfallAmountHead}</InfoItemValue>\n          {+rainfallAmountTail > 0 && <InfoItemValueFraction>.{rainfallAmountTail}</InfoItemValueFraction>}\n          <InfoItemUnit>mm</InfoItemUnit>\n        </InfoItemText>\n      </InfoItem>\n    </RainWindInfoWrapper>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { CrosshairsIcon } from \"../Icon/Icons\";\nimport { ModalContext, TargetLocationContext } from \"../../AppContext\";\n\nconst NavigationFabContainer = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n`;\n\nconst LocationContainer = styled.div`\n  display: flex;\n  align-items: flex-end;\n  cursor: pointer;\n`;\n\nconst LocationText = styled.div`\n  font-weight: 500;\n  font-size: 1.125em;\n`;\n\nconst CrosshairsIconStyled = styled(CrosshairsIcon)`\n  width: 1.25em;\n  padding-right: 0.25em;\n`;\n\nconst LocationButton = () => {\n  const { openModal } = ModalContext.wrappedHook();\n  const { i18nName } = TargetLocationContext.wrappedHook();\n  return (\n    <>\n      <NavigationFabContainer>\n        <LocationContainer data-testid={\"location-button\"} onClick={() => openModal(\"LOCATION_MODAL\")}>\n          <CrosshairsIconStyled />\n          <LocationText>{i18nName}</LocationText>\n        </LocationContainer>\n      </NavigationFabContainer>\n    </>\n  );\n};\n\nexport { LocationButton };\n","import { StyledClassName } from \"../common/helpers\";\nimport styled from \"styled-components\";\n\ntype FormattedTemperatureProps = StyledClassName & {\n  value: number;\n};\n\nexport const FormattedTemperatureValue = styled.span``;\n\nexport const FormattedTemperatureUnit = styled.span``;\n\nexport const FormattedTemperatureWrapper = styled.span``;\n\nexport const FormattedTemperature = ({ value, className }: FormattedTemperatureProps): JSX.Element => (\n  <FormattedTemperatureWrapper className={className}>\n    <FormattedTemperatureValue>{Math.round(value)}</FormattedTemperatureValue>\n    <FormattedTemperatureUnit>°C</FormattedTemperatureUnit>\n  </FormattedTemperatureWrapper>\n);\n\ntype FormattedHourProps = StyledClassName & {\n  value: number;\n};\nexport const FormattedHour = ({ value, className }: FormattedHourProps): JSX.Element => {\n  const hour = new Date(value * 1000).getHours().toString();\n  return <span className={className}>{hour.padStart(2, \"0\")}:00</span>;\n};\n\ntype FormattedTimeProps = StyledClassName & {\n  value: number;\n};\n\nexport const FormattedTimeWrapper = styled.span``;\n\nexport const FormattedTime = ({ value, className }: FormattedTimeProps): JSX.Element => {\n  const date = new Date(value * 1000);\n  return (\n    <FormattedTimeWrapper className={className}>\n      {date.getHours()}:{date.getMinutes()}\n    </FormattedTimeWrapper>\n  );\n};\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { StyledClassName } from \"../common/helpers\";\nimport { WeatherInfo } from \"../models/OpenWeatherAPI\";\nimport { WeatherIconsConfigContext } from \"../AppContext\";\nimport { WeatherIconsConfig } from \"../hooks/useWeatherIconsConfig\";\n\nconst getDayNightIcon = (iconsConfig: WeatherIconsConfig, weatherCode: number) => {\n  const now = new Date().getHours();\n  if (now > 5 && now < 22) {\n    return iconsConfig[weatherCode][3];\n  } else {\n    return iconsConfig[weatherCode][4];\n  }\n};\n\ntype WeatherIconProps = StyledClassName & {\n  weatherCode: number;\n};\nexport const WeatherIcon = ({ weatherCode, className }: WeatherIconProps): JSX.Element => {\n  const { weatherIconsConfig, fetched } = WeatherIconsConfigContext.wrappedHook();\n  if (!fetched) {\n    return <></>;\n  }\n  const icon = getDayNightIcon(weatherIconsConfig, weatherCode);\n  return <i className={cn(\"wi\", icon, className)} />;\n};\n\ntype WeatherInfoArrWeatherIconProps = StyledClassName & {\n  weatherInfoArr: WeatherInfo[];\n};\nexport const WeatherInfoArrWeatherIcon = ({ weatherInfoArr, className }: WeatherInfoArrWeatherIconProps) => {\n  const [weatherInfo] = weatherInfoArr;\n  return <WeatherIcon weatherCode={weatherInfo.id} className={className} />;\n};\n","import { css } from \"styled-components\";\n\nconst removeScrollbars = css`\n  /* Just handle that for webkits for now */\n  &::-webkit-scrollbar {\n    width: 0;\n    background: transparent;\n  }\n`;\n\nexport { removeScrollbars };\n","import styled from \"styled-components\";\nimport { removeScrollbars } from \"../../common/removeScrollbars\";\n\nconst boxShadowSize = \"0.125rem\";\n\nconst HorizontalList = styled.div`\n  grid-auto-columns: 6rem;\n  display: grid;\n  max-width: 100vw;\n  overflow-x: scroll;\n  box-sizing: border-box;\n  padding-bottom: ${boxShadowSize};\n  ${removeScrollbars}\n`;\n\nconst HorizontalListItem = styled.div`\n  grid-column: span 1;\n  grid-row: 1;\n  box-shadow: ${boxShadowSize} ${boxShadowSize} #ccc;\n`;\n\nexport { HorizontalList, HorizontalListItem };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { head, skipFirst } from \"../../common/helpers\";\nimport { HourWeatherForecast } from \"../../models/OpenWeatherAPI\";\nimport { FormattedHour, FormattedTemperature } from \"../ValueFormatters\";\nimport { WeatherInfoArrWeatherIcon } from \"../WeatherIcon\";\nimport { HorizontalList, HorizontalListItem } from \"../layouts/HorizontalList\";\nimport { TodayWeatherPageProps } from \"../../pages/TodayWeatherPage\";\nimport { useTranslation } from \"react-i18next\";\n\nconst HourlyForecastWrapper = styled.div`\n  background-color: #ffffff7d;\n  min-height: 18rem; /* temp - remove this */\n`;\nconst HourlyForecastHeading = styled.div`\n  padding-top: 1rem;\n  padding-bottom: 1rem;\n  padding-left: 1.5rem;\n  font-size: 2.25em;\n  font-weight: 500;\n`;\n\n// Actually I have no clue how to name those components\nconst StyledHorizontalList = styled(HorizontalList)``;\nconst StyledHorizontalListItem = styled(HorizontalListItem)`\n  display: grid;\n  grid-template-rows: repeat(3, 2em);\n  grid-row-gap: 0.1em;\n  grid-template-columns: 1fr;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  margin: 0 0.2em;\n  box-shadow: none;\n`;\n\nconst StyledWeatherInfoArrWeatherIcon = styled(WeatherInfoArrWeatherIcon)`\n  font-size: 2em;\n  opacity: 1;\n`;\n\nconst StyledFormattedHour = styled(FormattedHour)`\n  font-size: 1.125em;\n  font-weight: 300;\n  width: 100%;\n`;\n\nconst StyledFormattedTemperature = styled(FormattedTemperature)`\n  font-weight: 500;\n  font-size: 1.5em; // 24\n  & > span {\n    font-size: 0.75em; // 18\n  }\n`;\n\nconst HourlyItem = (forecast: HourWeatherForecast) => {\n  return (\n    <StyledHorizontalListItem key={forecast.dt}>\n      <StyledFormattedHour value={forecast.dt} />\n      <StyledWeatherInfoArrWeatherIcon weatherInfoArr={forecast.weather} />\n      <StyledFormattedTemperature value={forecast.temp} />\n      {/* <Pop pop={forecast.pop} /> */}\n    </StyledHorizontalListItem>\n  );\n};\n\ntype HourlyForecastProps = Pick<TodayWeatherPageProps, \"hourForecast\">;\nconst HourlyForecast = ({ hourForecast }: HourlyForecastProps) => {\n  const { t } = useTranslation();\n  const forecast = React.useMemo(\n    () => hourForecast.filter(skipFirst()).filter(head(8)).flatMap(HourlyItem),\n    [hourForecast]\n  );\n\n  return (\n    <HourlyForecastWrapper>\n      <HourlyForecastHeading>{t(\"hourly\")}</HourlyForecastHeading>\n      <StyledHorizontalList>{forecast}</StyledHorizontalList>\n    </HourlyForecastWrapper>\n  );\n};\n\nexport { HourlyForecast };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ArrowIcon } from \"../../Icon/Icons\";\n\nconst BottomArrowWrapper = styled.div`\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst StyledArrowIcon = styled(ArrowIcon)`\n  opacity: 0.8;\n  width: 3em;\n`;\n\ntype BottomDownArrowProps = {\n  nextPageRef: React.MutableRefObject<HTMLDivElement | null>;\n};\n\nconst BottomDownArrow = ({ nextPageRef }: BottomDownArrowProps) => {\n  const onClick = React.useCallback(() => {\n    nextPageRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [nextPageRef]);\n\n  return (\n    <BottomArrowWrapper>\n      <StyledArrowIcon onClick={onClick} />\n    </BottomArrowWrapper>\n  );\n};\n\nexport { BottomDownArrow };\n","import styled from \"styled-components\";\nimport { WeatherIcon } from \"../WeatherIcon\";\nimport { FormattedTemperature, FormattedTemperatureUnit } from \"../ValueFormatters\";\nimport { weatherZeroDescription, weatherZeroId } from \"../../common/helpers\";\nimport { CurrentWeatherForecast, HourWeatherForecast, WeatherInfo } from \"../../models/OpenWeatherAPI\";\n\nconst BasicInfoWrapper = styled.div`\n  padding-left: 1.5em;\n  font-family: \"Roboto\", sans-serif;\n  opacity: 0.8;\n  display: flex;\n`;\nconst BasicInfoData = styled.div`\n  margin-left: 1rem;\n`;\nconst BasicInfoIcon = styled(WeatherIcon)`\n  font-size: 6em;\n`;\nconst BasicInfoTemperature = styled(FormattedTemperature)`\n  font-size: 3.5em;\n  font-weight: 500;\n  ${FormattedTemperatureUnit} {\n    font-size: 0.75em;\n  }\n`;\nconst BasicInfoDescription = styled.div`\n  font-size: 2em;\n  font-weight: 500;\n\n  &:first-letter {\n    text-transform: capitalize;\n  }\n`;\ntype BasicInfoProps = {\n  temp: HourWeatherForecast[\"temp\"];\n  description: WeatherInfo[\"description\"];\n  weatherCode: WeatherInfo[\"id\"];\n};\nexport const BasicInfo = ({ temp, description, weatherCode }: BasicInfoProps) => {\n  return (\n    <BasicInfoWrapper>\n      <BasicInfoIcon weatherCode={weatherCode} />\n      <BasicInfoData>\n        <BasicInfoTemperature value={temp} />\n        <BasicInfoDescription>{description}</BasicInfoDescription>\n      </BasicInfoData>\n    </BasicInfoWrapper>\n  );\n};\n\ntype BasicInfoFromCurrentWeatherForecastProps = { currentWeather: Pick<CurrentWeatherForecast, \"temp\" | \"weather\"> };\nexport const BasicInfoFromCurrentWeatherForecast = ({\n  currentWeather: { temp, weather }\n}: BasicInfoFromCurrentWeatherForecastProps) => (\n  <BasicInfo temp={temp} description={weatherZeroDescription(weather)} weatherCode={weatherZeroId(weather)} />\n);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ArrowIcon, WarningIcon } from \"../Icon/Icons\";\nimport { hexToCssFilter } from \"../../common/hexToCssFilter\";\n\nexport type AlertInfoProps = {\n  header: string;\n  description: string;\n  alertOpen: boolean;\n  setAlertOpen: React.Dispatch<React.SetStateAction<boolean>>;\n};\n\ntype AlertContainerProps = {\n  open: boolean;\n};\nconst AlertContainer = styled.div`\n  background: rgba(255, 255, 255, 0.5);\n  border: 1px solid rgba(126, 126, 126, 0.5);\n  backdrop-filter: blur(2px);\n  border-radius: 6px;\n  margin: 1em;\n  padding: 0.2em 1em;\n  max-height: ${({ open }: AlertContainerProps) => (open ? \"16rem\" : \"1.6rem\")};\n  transition: max-height 1s ease-in-out;\n  overflow: hidden;\n`;\n\nconst AlertHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst AlertHeaderContent = styled.div`\n  color: rgba(244, 67, 43, 0.8);\n  display: flex;\n  align-items: center;\n`;\n\nconst AlertContent = styled.div`\n  opacity: 0.8;\n  margin: 1em 0.5rem;\n  text-align: justify;\n`;\n\ntype StyledArrowIconProps = {\n  open: boolean;\n};\nconst StyledArrowIcon = styled(ArrowIcon)`\n  width: 1.4em;\n  filter: ${hexToCssFilter(\"#3c3c3cfc\")};\n  transform: ${({ open }: StyledArrowIconProps) => (open ? \"rotate(180deg)\" : \"rotate(0deg)\")};\n`;\n\nconst WarningIconStyled = styled(WarningIcon)`\n  filter: ${hexToCssFilter(\"#f4432bcc\")};\n  margin-right: 1em;\n  width: 1.4em;\n`;\n\nexport const AlertInfo = ({ header, description, setAlertOpen, alertOpen }: AlertInfoProps): JSX.Element => {\n  return (\n    <AlertContainer open={alertOpen}>\n      <AlertHeader>\n        <AlertHeaderContent>\n          <WarningIconStyled />\n          {header}\n        </AlertHeaderContent>\n        <StyledArrowIcon open={alertOpen} onClick={() => setAlertOpen((prevState) => !prevState)} />\n      </AlertHeader>\n      <AlertContent>{description}</AlertContent>\n    </AlertContainer>\n  );\n};\n","import React, { useState } from \"react\";\nimport { AlertInfo } from \"./AlertInfo\";\nimport { AlertsInfo } from \"../../models/OpenWeatherAPI\";\nimport styled from \"styled-components\";\n\nexport type AlertWeatherInfoContainerProps = {\n  alert: AlertsInfo | undefined;\n  children: React.ReactNode;\n};\n\nconst OuterContentContainer = styled.div`\n  flex: 1;\n`;\n\nexport const AlertWeatherInfoContainer = ({ alert, children }: AlertWeatherInfoContainerProps): JSX.Element => {\n  const [alertOpen, setAlertOpen] = useState(false);\n  return (\n    <OuterContentContainer>\n      {alert && (\n        <AlertInfo\n          header={alert.tags[0]}\n          description={alert.description}\n          setAlertOpen={setAlertOpen}\n          alertOpen={alertOpen}\n        />\n      )}\n      {alertOpen ? null : children}\n    </OuterContentContainer>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ModalContext } from \"../AppContext\";\nimport { MODAL_NAME } from \"../common/constants\";\nimport { WithChildren } from \"../common/helpers\";\n\nconst _modalRoot = document.getElementById(\"modal_root\") as HTMLDivElement;\nif (!_modalRoot) {\n  console.error(\"Modal root is missing\");\n  throw \"Modal root is missing\";\n}\nconst modalRoot = _modalRoot || document.createElement(\"div\"); // fallback, shouldn't happen\n// const emptyModal = document.createElement(\"div\");\n\ntype ModalPortalProps = WithChildren & {\n  modalName: MODAL_NAME;\n};\nconst ModalPortal = ({ modalName, children }: ModalPortalProps) => {\n  const { _actualOpenModalName } = ModalContext.wrappedHook();\n  const element = React.useMemo(() => document.createElement(\"div\"), []);\n  const removeElementFromModalRoot = () => {\n    const isChildOfModalRoot = modalRoot.contains(element);\n    if (isChildOfModalRoot) {\n      console.log(`Remove ${modalName}`);\n      modalRoot.removeChild(element);\n    }\n  };\n\n  React.useLayoutEffect(() => {\n    // I am not sure how it will affect updates, lets keep that around for now\n    if (_actualOpenModalName === modalName) {\n      console.log(`Push ${modalName}`);\n      modalRoot.appendChild(element);\n    } else {\n      removeElementFromModalRoot();\n    }\n\n    return () => {\n      // cleanup\n      removeElementFromModalRoot();\n    };\n  }, [_actualOpenModalName]);\n\n  return ReactDOM.createPortal(children, element, modalName);\n};\n\nexport { ModalPortal };\n","// TODO - remove\nexport type City = { name: string; lat: string; lon: string };\nexport const city = (name: string, lat: string, lon: string) => ({ name, lat, lon });\nexport const mockCities: City[] = [\n  city(\"Szczecin\", \"53.428543\", \"14.552812\"),\n  city(\"Szydłowo\", \"53.1620341\", \"16.5942987\"),\n  city(\"Warsaw\", \"52.237049\", \"21.017532\"),\n  city(\"Berlin\", \"52.520008\", \"13.404954\"),\n  city(\"London\", \"51.507351\", \"-0.127758\"),\n  city(\"Tokyo (東京都)\", \"35.4929552\", \"137.5268034\"),\n  city(\"Hong Kong (香港)\", \"22.3531282\", \"113.847517\")\n];\n","import React from \"react\";\nimport moment from \"moment\";\nimport styled from \"styled-components\";\nimport { ArrowRightIcon } from \"../Icon/Icons\";\nimport { FormattedTemperature, FormattedTemperatureValue } from \"../ValueFormatters\";\nimport { WeatherInfoArrWeatherIcon } from \"../WeatherIcon\";\nimport { DayWeatherForecast } from \"../../models/OpenWeatherAPI\";\nimport { prop } from \"../../common/helpers\";\nimport { hexToCssFilter } from \"../../common/hexToCssFilter\";\n\nexport const DailyWeatherListItem = styled.div`\n  filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.25));\n  background: rgba(243, 243, 243, 0.9);\n  backdrop-filter: blur(4px);\n  border-radius: 10px;\n  padding: 0.5rem;\n  height: 85%;\n  box-sizing: border-box;\n  margin: 0 1rem;\n  position: relative;\n`;\n\nexport type ItemDateInfoProps = {\n  fontSize?: string;\n};\n\nexport const ItemDateInfo = styled.div<ItemDateInfoProps>`\n  text-transform: capitalize;\n  opacity: 0.8;\n  font-weight: 500;\n  font-size: ${prop(\"fontSize\", \"1.4rem\")};\n`;\n\nexport const ItemWeatherInfo = styled.div`\n  font-size: 3.2rem;\n  font-weight: 500;\n  opacity: 0.8;\n  margin-left: 0.5rem;\n  ${FormattedTemperatureValue} {\n    font-size: 1.4em;\n  }\n`;\n\nexport const IconContainer = styled.span`\n  position: absolute;\n  right: 4rem;\n  bottom: 2rem;\n`;\n\nconst StyledWeatherInfoArrWeatherIcon = styled(WeatherInfoArrWeatherIcon)`\n  font-size: 5em;\n  color: #bdbdbd;\n`;\n\nexport const ArrowRightIconStyled = styled(ArrowRightIcon)`\n  filter: ${hexToCssFilter(\"#00000080\")};\n  width: 2em;\n  height: 2em;\n`;\n\nexport const ArrowRightIconWrapper = styled.div`\n  --border-radius: 10px;\n  background: rgba(196, 196, 196, 0.5);\n  border-radius: var(--border-radius) 0;\n  position: absolute;\n  cursor: pointer;\n  padding: 0.6em;\n  bottom: 0;\n  right: 0;\n`;\n\nexport type DailyWeatherProps = {\n  forecast: DayWeatherForecast;\n  setSelectedDay: React.Dispatch<DayWeatherForecast>;\n};\n\nexport const DailyWeather = ({ forecast, setSelectedDay }: DailyWeatherProps): JSX.Element => {\n  return (\n    <DailyWeatherListItem>\n      <ItemDateInfo>{moment(forecast.dt * 1000).format(\"dddd, DD.M\")}</ItemDateInfo>\n      <ItemWeatherInfo>\n        <FormattedTemperature value={forecast.temp.day} />\n      </ItemWeatherInfo>\n      <IconContainer>\n        <StyledWeatherInfoArrWeatherIcon weatherInfoArr={forecast.weather} />\n      </IconContainer>\n      <ArrowRightIconWrapper\n        data-testid={\"open-details-button-\" + forecast.dt}\n        onClick={() => setSelectedDay(forecast)}\n      >\n        <ArrowRightIconStyled />\n      </ArrowRightIconWrapper>\n    </DailyWeatherListItem>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { ModalContext } from \"../../AppContext\";\nimport { ArrowRightIconStyled, ArrowRightIconWrapper, ItemDateInfo } from \"../DailyWeather/DailyWeather\";\n\nconst TitleContainer = styled.div`\n  height: 8.125rem;\n  width: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n`;\n\nconst ArrowRightIconWrapperRestyled = styled(ArrowRightIconWrapper)`\n  position: relative;\n  height: 3em;\n  width: 3em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0 var(--border-radius) var(--border-radius) 0;\n`;\n\nconst ItemDateInfoStyled = styled(ItemDateInfo)`\n  margin-left: 0.5rem;\n`;\n\ntype DrawerHeaderProps = {\n  title: string;\n};\n\nexport const DrawerHeader = ({ title }: DrawerHeaderProps) => {\n  const { closeModals } = ModalContext.wrappedHook();\n  return (\n    <TitleContainer>\n      <ArrowRightIconWrapperRestyled onClick={closeModals}>\n        <ArrowRightIconStyled />\n      </ArrowRightIconWrapperRestyled>\n      <ItemDateInfoStyled fontSize=\"1.8rem\">{title}</ItemDateInfoStyled>\n    </TitleContainer>\n  );\n};\n","import styled from \"styled-components\";\nimport { CrosshairsIcon } from \"../Icon/Icons\";\nimport { City } from \"../../assets/mock/mockCities\";\nimport { useTranslation } from \"react-i18next\";\n\nconst LastLocationsContainer = styled.div`\n  margin-bottom: 1rem;\n`;\n\nconst LastLocationsHeader = styled.div`\n  font-weight: bold;\n  font-size: 1.2em;\n  margin-bottom: 1rem;\n`;\n\nconst LastLocationsRow = styled.div`\n  display: flex;\n`;\n\nconst LastLocationsItemWrapper = styled.div`\n  flex: 1;\n  padding: 5px;\n  white-space: nowrap;\n  overflow: hidden;\n`;\n\nconst CrosshairsIconStyled = styled(CrosshairsIcon)`\n  width: 1.25em;\n  padding-right: 0.25em;\n`;\n\ntype LastLocationsItemProps = {\n  location: City | undefined;\n};\n\nconst LastLocationsItem = ({ location }: LastLocationsItemProps): JSX.Element => {\n  if (!location) {\n    return <LastLocationsItemWrapper />;\n  }\n  return (\n    <LastLocationsItemWrapper>\n      <CrosshairsIconStyled />\n      <span>{location.name}</span>\n    </LastLocationsItemWrapper>\n  );\n};\n\ntype LastLocationsProps = {\n  locations: City[];\n};\n\nexport const LastLocations = ({ locations }: LastLocationsProps): JSX.Element => {\n  const [city1, city2, city3, city4] = locations;\n  const { t } = useTranslation();\n  return (\n    <LastLocationsContainer>\n      <LastLocationsHeader>{t(\"lastLocations\")}</LastLocationsHeader>\n      <LastLocationsRow>\n        <LastLocationsItem location={city1} />\n        <LastLocationsItem location={city2} />\n      </LastLocationsRow>\n      <LastLocationsRow>\n        <LastLocationsItem location={city3} />\n        <LastLocationsItem location={city4} />\n      </LastLocationsRow>\n    </LastLocationsContainer>\n  );\n};\n","import React from \"react\";\nimport { City } from \"../assets/mock/mockCities\";\n\nconst STORAGE_KEY = \"LAST_LOCATIONS\";\n\nconst insertNewLocation = (lastLocations: City[], location: City) => {\n  const index = lastLocations.findIndex((item) => item.name === location.name);\n  if (index >= 0) {\n    lastLocations.splice(index, 1);\n  } else if (lastLocations.length >= 4) {\n    lastLocations.pop();\n  }\n  lastLocations.unshift(location);\n};\n\nconst useLastLocations = () => {\n  const [lastLocations, setLastLocations] = React.useState<City[]>([]);\n\n  React.useEffect(() => {\n    const lastLocations: City[] = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\n    setLastLocations(lastLocations);\n  }, []);\n\n  const selectLocation = React.useCallback(\n    (location: City) => {\n      insertNewLocation(lastLocations, location);\n      setLastLocations([...lastLocations]);\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(lastLocations));\n    },\n    [lastLocations, setLastLocations]\n  );\n\n  return [lastLocations, selectLocation] as const;\n};\n\nexport { useLastLocations };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { head } from \"../../common/helpers\";\nimport { CrosshairsIcon } from \"../Icon/Icons\";\nimport { City, mockCities } from \"../../assets/mock/mockCities\";\nimport { DrawerHeader } from \"../DrawerHeader/DrawerHeader\";\nimport { LastLocations } from \"./LastLocations\";\nimport { useLastLocations } from \"../../hooks/useLastLocations\";\nimport { useTranslation } from \"react-i18next\";\nimport { ModalContext, TargetLocationContext } from \"../../AppContext\";\n\nconst LocationWrapper = styled.div``;\n\nconst LocationModalContent = styled.div`\n  padding: 1rem;\n`;\n\nconst CrosshairsIconStyled = styled(CrosshairsIcon)`\n  width: 1.25em;\n  padding-right: 0.25em;\n`;\n\nconst LocationModalInput = styled.input`\n  width: 100%;\n  margin-top: 2rem;\n  padding: 0.5rem 0.75rem 0.5rem 0.75rem;\n  border: 1px solid black;\n  border-radius: 0.25rem;\n  font-size: 1rem;\n  box-sizing: border-box;\n`;\n\nconst LocationModalListContainer = styled.div`\n  padding: 1rem 0.75rem;\n  border: 1px solid black;\n  border-radius: 0.25rem;\n  margin-top: 0.5rem;\n`;\n\nconst LocationModalOption = styled.div`\n  padding: 0.25rem 0.25rem;\n  cursor: pointer;\n  font-size: 1rem;\n  display: flex;\n`;\n\ntype LocationModalListItemProps = {\n  setLocation: (location: City) => void;\n};\n\nconst LocationModalListItem = ({ setLocation }: LocationModalListItemProps) => {\n  const _LocationModalListItem = (city: City) => {\n    return (\n      <LocationModalOption key={`${city.lat}/${city.lon}`} onClick={() => setLocation(city)}>\n        <CrosshairsIconStyled />\n        {city.name}\n      </LocationModalOption>\n    );\n  };\n  return _LocationModalListItem;\n};\n\nconst LocationModal = () => {\n  const [searchField, setSearchField] = React.useState(\"\");\n  const { setTargetLocation, i18nName } = TargetLocationContext.wrappedHook();\n  const { closeModals } = ModalContext.wrappedHook();\n  const [lastLocations, selectLastLocation] = useLastLocations();\n  const { t } = useTranslation();\n\n  const filteredCities = mockCities\n    .filter(head(6))\n    .filter((city) => city.name !== i18nName)\n    .filter((city) => city.name.includes(searchField));\n\n  const setLocation = React.useCallback(\n    (location: City) => {\n      setTargetLocation(location.name, location.lat, location.lon);\n      selectLastLocation(location);\n      closeModals();\n    },\n    [setTargetLocation, selectLastLocation, closeModals]\n  );\n\n  return (\n    <LocationWrapper>\n      <DrawerHeader title={t(\"location\")} />\n      <LocationModalContent>\n        <LastLocations locations={lastLocations} />\n        <LocationModalInput onChange={(e) => setSearchField(e.target.value)} value={searchField} />\n        <LocationModalListContainer>\n          {filteredCities.length > 0 ? filteredCities.map(LocationModalListItem({ setLocation })) : t(\"noResults\")}\n        </LocationModalListContainer>\n      </LocationModalContent>\n    </LocationWrapper>\n  );\n};\n\nexport { LocationModal };\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { PageContainer } from \"../components/layouts/PageContainer\";\nimport { WindPrecipitationInfo } from \"../components/RainWindInfo/WindPrecipitationInfo\";\nimport { LocationButton } from \"../components/LocationSettings/LocationButton\";\nimport { HourlyForecast } from \"../components/HourlyForecast/HourlyForecast\";\nimport { BottomDownArrow } from \"../components/common/BottomDownArrow/BottomDownArrow\";\nimport { AlertsInfo, CurrentWeatherForecast, HourWeatherForecast } from \"../models/OpenWeatherAPI\";\nimport { BasicInfoFromCurrentWeatherForecast } from \"../components/BasicInfo/BasicInfo\";\nimport { AlertWeatherInfoContainer } from \"../components/AlertInfo/AlertWeatherInfoContainer\";\nimport { ModalPortal } from \"../portals/ModalPortal\";\nimport { LocationModal } from \"../components/LocationSettings/LocationModal\";\n\nexport type TodayWeatherPageProps = {\n  nextPageRef: React.MutableRefObject<HTMLDivElement | null>;\n  currentWeather: CurrentWeatherForecast;\n  hourForecast: HourWeatherForecast[];\n  alert: AlertsInfo | undefined;\n};\n\nconst TodayWeatherPageWrapper = styled.div`\n  position: relative;\n  height: 100%;\n  padding-top: 2em;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const TodayWeatherPage = ({ nextPageRef, currentWeather, hourForecast, alert }: TodayWeatherPageProps) => {\n  return (\n    <PageContainer>\n      <TodayWeatherPageWrapper>\n        <LocationButton />\n        <BasicInfoFromCurrentWeatherForecast currentWeather={currentWeather} />\n        <AlertWeatherInfoContainer alert={alert}>\n          <WindPrecipitationInfo currentWeather={currentWeather} />\n        </AlertWeatherInfoContainer>\n        <HourlyForecast hourForecast={hourForecast} />\n        <BottomDownArrow nextPageRef={nextPageRef} />\n      </TodayWeatherPageWrapper>\n      <ModalPortal modalName=\"LOCATION_MODAL\">\n        <LocationModal />\n      </ModalPortal>\n    </PageContainer>\n  );\n};\n","import styled from \"styled-components\";\nimport React from \"react\";\nimport { StyledClassName } from \"../../common/helpers\";\n\nexport const DetailItemWrapper = styled.div`\n  display: flex;\n  margin: 1rem;\n  opacity: 0.8;\n  font-size: 1.5em;\n  align-items: baseline;\n`;\n\nconst DetailItemLabel = styled.div`\n  flex: 1;\n  height: fit-content;\n`;\n\nconst DetailItemValue = styled.div``;\n\nexport type DetailItemProps = {\n  label: string;\n  children: React.ReactNode;\n} & StyledClassName;\n\nexport const DetailItem = ({ label, children, className }: DetailItemProps): JSX.Element => {\n  return (\n    <DetailItemWrapper className={className}>\n      <DetailItemLabel>{label}</DetailItemLabel>\n      <DetailItemValue>{children}</DetailItemValue>\n    </DetailItemWrapper>\n  );\n};\n","import moment from \"moment\";\nimport styled from \"styled-components\";\nimport { DailyWeatherProps } from \"./DailyWeather\";\nimport { DetailItem, DetailItemWrapper } from \"./DetailItem\";\nimport { forecastWeatherZeroDescription } from \"../../common/helpers\";\nimport {\n  FormattedTemperature,\n  FormattedTemperatureValue,\n  FormattedTime,\n  FormattedTimeWrapper\n} from \"../ValueFormatters\";\nimport React from \"react\";\nimport { WindDirectionIcon } from \"../Icon/Icons\";\nimport { DrawerHeader } from \"../DrawerHeader/DrawerHeader\";\nimport { useTranslation } from \"react-i18next\";\n\nconst DailyWeatherDetailsWrapper = styled.div`\n  position: relative;\n  min-height: 5rem;\n\n  ${FormattedTemperatureValue},\n  ${FormattedTimeWrapper} {\n    font-size: 1.2em;\n  }\n\n  ${DetailItemWrapper} {\n    border-bottom: 1px solid rgba(80, 80, 80, 0.2);\n  }\n`;\n\nconst WeatherDescription = styled.div`\n  font-size: 0.8em;\n  display: inline;\n  vertical-align: bottom;\n`;\n\nconst DetailValue = styled.span`\n  font-size: 1.2em;\n`;\n\nconst WindDirectionWrapper = styled.span`\n  position: relative;\n`;\n\nconst WindDirectionIconStyled = styled(WindDirectionIcon)`\n  position: absolute;\n  transform: ${({ deg }) => `rotate(${deg}deg)`};\n  height: 1.5em;\n  right: 0.2em;\n`;\n\ntype DailyWeatherDetailsProps = Pick<DailyWeatherProps, \"forecast\">;\nexport const DailyWeatherDetails = ({ forecast }: DailyWeatherDetailsProps): JSX.Element => {\n  const date = React.useMemo(() => moment(forecast.dt * 1000).format(\"dddd, DD.M\"), [forecast]);\n  const { wind_speed, wind_deg, pressure, pop, sunrise, sunset } = forecast;\n  const dayTemperature = forecast.temp.day;\n  const { t } = useTranslation();\n  return (\n    <DailyWeatherDetailsWrapper>\n      <DrawerHeader title={date} />\n      <DetailItem label={t(\"weather\")}>\n        <WeatherDescription>{forecastWeatherZeroDescription(forecast)}</WeatherDescription>\n      </DetailItem>\n      <DetailItem label={t(\"temp\")}>\n        <FormattedTemperature value={dayTemperature} />\n      </DetailItem>\n      <DetailItem label={t(\"wind\")}>\n        <WindDirectionWrapper>\n          <WindDirectionIconStyled deg={wind_deg} />\n        </WindDirectionWrapper>\n        <DetailValue>{wind_speed}</DetailValue>m/s\n      </DetailItem>\n      <DetailItem label={t(\"pressure\")}>\n        <DetailValue>{pressure}</DetailValue>hPa\n      </DetailItem>\n      <DetailItem label={t(\"rain\")}>\n        <DetailValue>{pop}</DetailValue>%\n      </DetailItem>\n      <DetailItem label={t(\"sunrise\")}>\n        <FormattedTime value={sunrise} />\n      </DetailItem>\n      <DetailItem label={t(\"sunset\")}>\n        <FormattedTime value={sunset} />\n      </DetailItem>\n    </DailyWeatherDetailsWrapper>\n  );\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { DayWeatherForecast } from \"../models/OpenWeatherAPI\";\nimport { PageContainer } from \"../components/layouts/PageContainer\";\nimport { DailyWeather } from \"../components/DailyWeather/DailyWeather\";\nimport { ModalPortal } from \"../portals/ModalPortal\";\nimport { DailyWeatherDetails } from \"../components/DailyWeather/DailyWeatherDetails\";\nimport { ModalContext } from \"../AppContext\";\n\nexport const DailyWeatherListContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nexport const DailyWeatherListItemContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport type NextDaysPageProps = {\n  daily: DayWeatherForecast[];\n  pageRef: React.MutableRefObject<HTMLDivElement | null>;\n};\n\nexport const NextDaysForecastPage = ({ daily, pageRef }: NextDaysPageProps) => {\n  const { openModal } = ModalContext.wrappedHook();\n  const [selectedDay, _setSelectedDay] = React.useState<DayWeatherForecast>(daily[0]);\n  const setSelectedDay = React.useCallback(\n    (f: DayWeatherForecast) => {\n      openModal(\"DAY_MODAL\");\n      _setSelectedDay(f);\n    },\n    [openModal, _setSelectedDay]\n  );\n\n  const list = daily.slice(1, 6).map((item) => (\n    <DailyWeatherListItemContainer key={item.dt}>\n      <DailyWeather forecast={item} setSelectedDay={setSelectedDay} />\n    </DailyWeatherListItemContainer>\n  ));\n\n  return (\n    <PageContainer forwardRef={pageRef}>\n      <DailyWeatherListContainer>{list}</DailyWeatherListContainer>\n      <ModalPortal modalName=\"DAY_MODAL\">\n        <DailyWeatherDetails forecast={selectedDay} />\n      </ModalPortal>\n    </PageContainer>\n  );\n};\n","import { createGlobalStyle, css } from \"styled-components\";\n\ntype ModalRootStylesProps = {\n  isModalOpen: boolean;\n};\nconst isModalOpenModalRootStyles = ({ isModalOpen }: ModalRootStylesProps) =>\n  isModalOpen\n    ? css`\n        right: 0;\n      `\n    : css`\n        right: -80vw;\n      `;\n\nexport const ModalRootStyles = createGlobalStyle`\n  #modal_root {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: -80vw;\n    width: 80vw;\n    background-color: rgba(255, 255, 255, 0.7);\n\n    transition: right 0.2s ease-in-out;\n    ${isModalOpenModalRootStyles}\n  }\n`;\n\nconsole.log(ModalRootStyles);\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport enTranslations from \"../assets/i18n/en.json\";\n\nconst initI18n = (lng: string) =>\n  i18n.use(initReactI18next).init({\n    resources: {\n      en: {\n        translation: enTranslations\n      }\n    },\n    lng,\n    fallbackLng: lng,\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\nexport default initI18n;\n","import \"moment/locale/pl\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport { AppContainer } from \"./components/layouts/AppContainer\";\nimport { TodayWeatherPage } from \"./pages/TodayWeatherPage\";\nimport { NextDaysForecastPage } from \"./pages/NextDaysForecastPage\";\nimport { ModalRootStyles } from \"./portals/ModalRootStyles\";\nimport initI18n from \"./common/initI18n\";\nimport { ModalContext, TargetLocationContext } from \"./AppContext\";\n\nconst EN = \"en\";\n\nmoment.locale(EN);\ninitI18n(EN);\n\nconst App: React.FunctionComponent = () => {\n  const { isModalOpen } = ModalContext.wrappedHook();\n  const { fetched, rawData } = TargetLocationContext.wrappedHook();\n  const nextDaysForecastPageRef = React.useRef<HTMLDivElement | null>(null);\n  const [alert] = rawData?.alerts || [];\n\n  if (!fetched) {\n    return <AppContainer>Loading...</AppContainer>;\n  }\n\n  if (!rawData) {\n    return <AppContainer>No data</AppContainer>;\n  }\n\n  return (\n    <AppContainer data-testid={\"app-container\"}>\n      <ModalRootStyles isModalOpen={isModalOpen} />\n      <TodayWeatherPage\n        nextPageRef={nextDaysForecastPageRef}\n        currentWeather={rawData.current}\n        hourForecast={rawData.hourly}\n        alert={alert}\n      />\n      <NextDaysForecastPage pageRef={nextDaysForecastPageRef} daily={rawData.daily} />\n    </AppContainer>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport AppProvider from \"./AppContext\";\n\n// This enables HMR\n// TODO: check if it affects prod build\n// sorry TS\nif ((module as unknown as Record<string, unknown>)?.hot) {\n  (module as unknown as Record<\"hot\", { accept: () => void }>)?.hot?.accept();\n}\n\nReactDOM.render(\n  <AppProvider>\n    <App />\n  </AppProvider>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { CurrentWeatherForecast, DayWeatherForecast, WeatherInfo } from \"../models/OpenWeatherAPI\";\n\n/*\n  Most likely this file will be split in future, just store handy things here\n  treat it as constants/common/utils\n  if something is more than 3 lines - export to separate file\n*/\n\nexport const emptyCss = css``;\nexport const emptyDiv = styled.div``;\nexport const emptyFn = () => undefined;\nexport type UnknownObject = Record<string, unknown>;\nexport type StyledComponentsCss = ReturnType<typeof css>;\nexport type WithChildren = { children: React.ReactNode };\nexport type WithForwardRef<T> = { forwardRef?: React.MutableRefObject<T> };\nexport type WithForwardRefDiv = WithForwardRef<HTMLDivElement | null>;\nexport type StyledClassName = { className?: string };\nexport const head = (num: number) => (_: unknown, index: number) => index < num;\nexport const skipFirst = () => (_: unknown, index: number) => index !== 0;\nexport const arrZero = <T>(arr: T[]) => arr[0];\nexport const weatherZeroId = (weather: [WeatherInfo]) => arrZero(weather).id;\nexport const weatherZeroDescription = (weather: [WeatherInfo]) => arrZero(weather).description;\nexport const forecastWeatherZeroDescription = (forecast: DayWeatherForecast) =>\n  weatherZeroDescription(forecast.weather);\nexport const rainAmount = (currentWeather: Pick<CurrentWeatherForecast, \"rain\">): number =>\n  currentWeather.rain?.[\"1h\"] || 0;\nexport const snowAmount = (currentWeather: Pick<CurrentWeatherForecast, \"snow\">): number =>\n  currentWeather.snow?.[\"1h\"] || 0;\nexport const prop =\n  <T, K extends keyof T>(attrName: K, defaultValue = \"\") =>\n  (props: T) => {\n    return props[attrName] || defaultValue;\n  };\n","import React from \"react\";\nimport { WithChildren } from \"./helpers\";\n\nexport const createContextFromHook = <HookData,>(hook: () => HookData, initialData: HookData = {} as HookData) => {\n  const Context = React.createContext(initialData);\n  const WrappedProvider = ({ children }: WithChildren) => {\n    const value = hook();\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  };\n  const wrappedHook = () => React.useContext(Context);\n\n  return {\n    Context,\n    WrappedProvider,\n    wrappedHook\n  };\n};\n","export const MODALS = {\n  NONE: \"\",\n  LOCATION_MODAL: \"LOCATION_MODAL\",\n  DAY_MODAL: \"DAY_MODAL\"\n} as const;\nexport type MODAL_NAME = typeof MODALS[keyof typeof MODALS];\n","import React from \"react\";\nimport { useOpenWeatherMapOneCall } from \"./useOpenWeatherMapOneCall\";\n\nconst useTargetLocation = () => {\n  const [i18nName, setI18nName] = React.useState<string>(\"Szczecin\");\n  const [lat, setLat] = React.useState<string>(\"53.4289\");\n  const [lon, setLon] = React.useState<string>(\"14.553\");\n\n  const [rawData, fetched, fetchData] = useOpenWeatherMapOneCall({\n    lat,\n    lon,\n    exclude: [\"minutely\"],\n    units: \"metric\"\n  });\n\n  React.useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const setTargetLocation = (i18nName: string, lat: string, lon: string) => {\n    setI18nName(i18nName);\n    setLat(lat);\n    setLon(lon);\n  };\n\n  return { rawData, fetched, i18nName, setTargetLocation } as const;\n};\n\nexport type SetTargetLocation = ReturnType<typeof useTargetLocation>[\"setTargetLocation\"];\nexport { useTargetLocation };\n","export default __webpack_public_path__ + \"static/media/weather-conditions.66b67224.csv\";","import React from \"react\";\nimport weatherConditionsCsv from \"../assets/weather-conditions.csv\";\nimport { arrZero } from \"../common/helpers\";\n\nexport type WeatherIconsConfig = Record<string, string[]>;\n\nconst fetchData = async (): Promise<string[][]> => {\n  const response = await fetch(weatherConditionsCsv);\n  const csv = await response.text();\n  const data = csv.split(\"\\n\").map((row) => row.split(\";\"));\n  data.shift();\n  return data;\n};\n\nconst transformData = (rawData: string[][]): WeatherIconsConfig => {\n  const iconsConfig = {};\n  rawData.forEach((item) => {\n    const weatherId = arrZero(item);\n    iconsConfig[weatherId] = item;\n  });\n  return iconsConfig;\n};\n\nconst useWeatherIconsConfig = () => {\n  const [weatherIconsConfig, setWeatherIconsConfig] = React.useState<WeatherIconsConfig>({});\n  const [fetched, setFetched] = React.useState(false);\n\n  React.useEffect(() => {\n    fetchData().then((rawData) => {\n      const data = transformData(rawData);\n      setWeatherIconsConfig(data);\n      setFetched(true);\n    });\n  }, []);\n\n  return { weatherIconsConfig, fetched } as const;\n};\n\nexport { useWeatherIconsConfig };\n","import React from \"react\";\nimport { createContextFromHook } from \"./common/createContextFromHook\";\nimport { WithChildren } from \"./common/helpers\";\nimport { useModal } from \"./hooks/useModal\";\nimport { useTargetLocation } from \"./hooks/useTargetLocation\";\nimport { useWeatherIconsConfig } from \"./hooks/useWeatherIconsConfig\";\n\ntype WithWrappedProvider = { WrappedProvider: (p: WithChildren) => JSX.Element };\nexport const ModalContext = createContextFromHook(useModal);\nexport const TargetLocationContext = createContextFromHook(useTargetLocation);\nexport const WeatherIconsConfigContext = createContextFromHook(useWeatherIconsConfig);\n\nexport const contextCentipede = (hookContextArr: WithWrappedProvider[]) =>\n  hookContextArr.reduce(\n    (P, { WrappedProvider }) =>\n      ({ children }: WithChildren) =>\n        (\n          <P>\n            <WrappedProvider>{children}</WrappedProvider>\n          </P>\n        ),\n    (p: WithChildren) => <>{p.children}</>\n  );\n\nconst AppProvider = contextCentipede([ModalContext, TargetLocationContext, WeatherIconsConfigContext]);\n\nexport default AppProvider;\n","import React from \"react\";\nimport { MODALS, MODAL_NAME } from \"../common/constants\";\n\nconst useModal = () => {\n  const [_actualOpenModalName, _setActualOpenModalName] = React.useState<MODAL_NAME>(MODALS.NONE);\n  // useMemo is kinda excessive here, but I prefer to tell react everything how to track that\n  const isModalOpen = React.useMemo(() => _actualOpenModalName !== MODALS.NONE, [_actualOpenModalName]);\n  const openModal = React.useCallback(\n    (modal: MODAL_NAME) => {\n      _setActualOpenModalName(modal);\n    },\n    [_setActualOpenModalName]\n  );\n  const closeModals = React.useCallback(() => {\n    _setActualOpenModalName(MODALS.NONE);\n  }, [_setActualOpenModalName]);\n\n  return {\n    _actualOpenModalName,\n    isModalOpen,\n    openModal,\n    closeModals\n  };\n};\n\nexport { useModal };\n","import React from \"react\";\nimport { WeatherData } from \"../models/OpenWeatherAPI\";\n\n// \"https://api.openweathermap.org/data/2.5/onecall?lat=53.4289&lon=14.553&exclude=minutely,daily,alerts&units=metric&appid=035c2a38881a80dff29561d6b59a2bda\";\n\nconst openWeatherEndpoint = \"https://api.openweathermap.org/data/2.5/onecall\";\nconst appId = \"035c2a38881a80dff29561d6b59a2bda\";\n\ntype OpenWeatherOneCallParams = {\n  lat: string;\n  lon: string;\n  exclude: string[];\n  units: \"metric\";\n};\n\nconst getUrl = ({ lat, lon, exclude, units }: OpenWeatherOneCallParams) => {\n  // TODO helper for that?\n  return (\n    openWeatherEndpoint +\n    \"?\" +\n    `lat=${lat}&` +\n    `lon=${lon}&` +\n    `exclude=${exclude.join(\",\")}&` +\n    `units=${units}&` +\n    `appid=${appId}`\n  );\n};\n\nfunction useOpenWeatherMapOneCall(params: OpenWeatherOneCallParams) {\n  const url = React.useMemo(() => getUrl(params), [params]);\n  const [fetched, setFetched] = React.useState(false);\n  const [data, setData] = React.useState<WeatherData | null>(null);\n\n  const fetchData = React.useCallback(() => {\n    fetch(url)\n      .then((response) => {\n        return response.json();\n      })\n      .then((responseData) => {\n        setData(responseData);\n        setFetched(true);\n      });\n  }, [url, setFetched, setData]);\n\n  return [data, fetched, fetchData] as const;\n}\n\nexport { useOpenWeatherMapOneCall };\n"],"sourceRoot":""}